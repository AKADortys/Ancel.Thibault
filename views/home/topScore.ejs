<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/navBar.css" type="text/css">
    <link rel="stylesheet" href="/global.css" type="text/css">
    <link rel="stylesheet" href="/topScore.css" type="text/css">
    <title>Classement du quiz <%=objQuiz.titre%></title>
</head>
<body>
    <%- include('../partials/navBar') %>
    <main>
        <h2>Top scores quiz <%=objQuiz.titre%></h2>
        <% if(tableScore.length > 0){ %>
         <form method="GET" action="/topScore/<%= idQuiz %>">
            <select name="ordre">
                    <option value="pseudo" <% if (ordre ==='pseudo'){%>selected <% } %>>Nom</option>
                    <option value="total" <% if (ordre ==='total'){%>selected <% } %>>Score</option>
                    <option value="date" <% if (ordre === 'date'){%>selected <% } %>>Date</option>
            </select>
            <input type="submit" value="Trier">
        </form>
            
        <table>
            <tr>
                <th>Utilisateur</th> <th>Score</th> <th>Date</th>
            </tr>
            <% tableScore.forEach((sco)=>{ %>
                <tr>
                    <td><%=sco.nomUser%></td> <td><%=sco.total%></td> <td><%=sco.date%></td>
                </tr>
            <% })} else{%>
                <p>Pas de score pour le moment, vous pouvez essayer ce quiz <a href="/startQuiz/<%=idQuiz%>">ICI</a> !</p>
            <% } %>
        </table>
        <section>
            <h1>Quiz : <%=objQuiz.titre%></h1>
            <p class="info-quiz">Quiz écrit par: <span><%=objQuiz.nomUser%></span></p>
            <p class="info-quiz">Quiz créer le: <span><%=objQuiz.date%></span></p>
            <p class="info-quiz">Catégorie: <span><%=objQuiz.nomCateg%></span></p>
            <img src="<%=objQuiz.image%>" alt="Image du quiz">
            <p><%=objQuiz.description%></p>
            <p>Ce quiz comporte <span><%=question%></span> question(s). Points maximum: <span><%=maxPoint%></span></p>
        </section>
    </main>

</body>
</html>